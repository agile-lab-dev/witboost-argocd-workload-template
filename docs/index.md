## Prerequisites

A Data Product should already exist in order to attach the new components to it.

## Component Metadata

This section includes the basic information that any Component of Witboost must have:

### Required Fields

- **Name**: The name of the component.
    - **Default**: `ArgoCD Workload`
- **Description**: A short description to help others understand what this workload is for.
    - **Default**: `Workload that creates or updates an ArgoCD application`
- **Domain**: The domain of the Data Product this workload belongs to. Be sure to choose it correctly as it is a fundamental part of the workload and cannot be changed afterwards.
- **Data Product**: The Data Product this workload belongs to. Be sure to choose the right one.

### Autogenerated Fields

- **Identifier**: A unique identifier for the component, autogenerated from the information above. This is a string composed of `[a-zA-Z]` separated by any of `[-_]`.
- **Development Group**: Automatically selected from the Data Product metadata.

### Optional Fields

- **Depends on**: A list of components in the same Data Product that this component depends on.
    - **Default**: `[]`
- **Reads from**: List of output ports or external systems that this component reads from (for DataPipeline workloads).
    - **Default**: `[]`
- **Tags**: Tags for the component.
    - **Default**: `[]`

---

## ArgoCD Application Source

This section specifies the source of the application manifests.

- **Path**: Local path inside the component folder where the manifests are located.
    - **Default**: `argoCD`
- **Target Revision**: The Git target revision.
    - **Default**: `HEAD`

---

## ArgoCD Application Destination

This section details the destination cluster and namespace where the application will be deployed.

- **Server**: The cluster URL.
    - **Default**: `https://kubernetes.default.svc`
- **Namespace**: The target namespace in which to deploy the manifests from the source. Set it only for namespace-scoped resources.
    - **Default**: `''`

---

## ArgoCD Sync Policy

This section configures the synchronization policy for ArgoCD.

- **Automated**: Specifies whether automated synchronization is enabled.
    - **Default**: `false`

### Conditional Fields (When `Automated` is `true`):

- **Prune**: Specifies if resources should be pruned during auto-syncing.
    - **Default**: `false`
    - **Description**: Prunes resources during auto-syncing.
- **Self Heal**: Specifies if partial app sync should be executed when resources are changed only in the target Kubernetes cluster and no Git change is detected.
    - **Default**: `false`
    - **Description**: Enables partial app sync for out-of-sync resources in Kubernetes.

---

## Summary

After filling out the fields, the system will present a summary of the template. You can go back to make edits or proceed to create the component.

Once you click "Create," the component registration process begins. If no errors occur, the process goes through the following phases:

1. **Fetching**
2. **Publishing**
3. **Registering**

Upon successful registration, links to the new repository and the component in the catalog will be provided.

**Important**: Ensure you do not delete the `catalog-info.yml` file and maintain the given project structure.

